<div class="sidebar">
  <p class="news-bar-title">News Feed</p>
  <div *ngIf="newLikes$ | async as likes">
    <div *ngFor="let like of likes">
      <div class="like-info">
        <span class="username">
          <a [routerLink]='["profile", like.userId]'>
            <span>
              {{like.username}}
            </span>
          </a>
          <span class="like-text">liked the movie</span>
          <a [routerLink]='["movie", like.movieId]'>
            <span class="movie-title">{{like.movieTitle}}</span>
          </a>
        </span>
      </div>
    </div>
  </div>
</div>
<div class="sidebar-handle" (click)="toggleSidebar()"></div>
<div class="container-movies">
  <div *ngIf="movies$ | async as movies">
    <div *ngFor="let movie of movies.results">
      <a [routerLink]='["movie", movie.id]'>
        <div class="movie-container">
          <img class="placeholder" src="https://image.tmdb.org/t/p/original/{{ movie.poster_path }}" alt="{{ movie.original_title }}" loading="lazy" />
          <div class="movie-info">
            <p>{{ movie.original_title }}</p>
          </div>
        </div>
      </a>

      <button (click)="isLiked(movie) ? unlikeMovie(movie) : likeMovie(movie)">
        <span class="like-icon" [ngClass]="{'liked': isLiked(movie)}"></span>
      </button>
    </div>
  </div>
  <div *ngIf="page" class="pagination">
    <div *ngIf="movies$ | async as movies">
      <a *ngIf="page-1 > 0" [routerLink]="['/']" [queryParams]="{page: page-1}">{{page-1}}</a>
      <p>{{page}}</p>
      <a *ngIf="page+1 <= movies.total_pages" [routerLink]="['/']" [queryParams]="{page: page+1}">{{page+1}}</a>
    </div>
  </div>
</div>
